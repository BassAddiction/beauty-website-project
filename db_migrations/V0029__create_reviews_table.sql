CREATE TABLE IF NOT EXISTS reviews (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    location VARCHAR(100) NOT NULL,
    rating INTEGER NOT NULL CHECK (rating >= 1 AND rating <= 5),
    plan VARCHAR(50) NOT NULL,
    text TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    is_approved BOOLEAN DEFAULT false,
    email VARCHAR(255)
);

CREATE INDEX idx_reviews_approved ON reviews(is_approved);
CREATE INDEX idx_reviews_created_at ON reviews(created_at DESC);

INSERT INTO reviews (name, location, rating, plan, text, is_approved, created_at) VALUES
('Александр М.', 'Москва', 5, 'Год', 'Лучший VPN из всех, что я пробовал! Скорость просто космическая, никаких обрывов. Особенно радует, что работает на всех устройствах по одной подписке.', true, '2024-10-15 12:00:00'),
('Мария К.', 'Санкт-Петербург', 5, '3 месяца', 'Пользуюсь уже 3 месяца — полный восторг! Все сайты открываются мгновенно, видео в HD без тормозов. Поддержка очень отзывчивая, помогли настроить за 5 минут.', true, '2024-11-03 14:30:00'),
('Дмитрий В.', 'Екатеринбург', 5, 'Месяц', 'Раньше юзал другие VPN, но там были постоянные лаги. Speed VPN работает стабильно 24/7, цена адекватная. Всем советую!', true, '2024-10-28 10:15:00'),
('Елена С.', 'Казань', 5, 'Год', 'Идеальное соотношение цены и качества. Подключение за секунды, интерфейс понятный даже для новичка. Защита данных на высоте!', true, '2024-11-12 16:45:00'),
('Игорь Т.', 'Новосибирск', 5, 'Год', 'Работаю удаленно, VPN нужен постоянно. Speed VPN не подводит — связь стабильная, пинг низкий. Годовая подписка окупилась за месяц!', true, '2024-11-07 09:20:00'),
('Ольга Н.', 'Краснодар', 5, '3 месяца', 'Очень довольна! Смотрю стримы в 4К без буферизации. Настроила на телефоне и ноутбуке — везде работает безупречно. Спасибо за качественный сервис!', true, '2024-11-01 11:00:00');
